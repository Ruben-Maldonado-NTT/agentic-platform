<div class="flex flex-col h-full max-h-[calc(100vh-6rem)] p-4 space-y-4">
  <h2 class="text-2xl font-semibold">Prueba en vivo con el agente</h2>

  <!-- Chat window -->
  <div class="flex-1 overflow-y-auto bg-white rounded shadow p-4 space-y-4 max-h-[60vh]">
    <div *ngFor="let msg of messages" [ngClass]="{
      'text-right': msg.role === 'user',
      'text-left': msg.role === 'agent'
    }">
      <div [ngClass]="{
        'bg-blue-100 text-blue-800 self-end': msg.role === 'user',
        'bg-gray-100 text-gray-800 self-start': msg.role === 'agent'
      }"
      class="inline-block px-4 py-2 rounded-lg max-w-md">
        {{ msg.text }}
      </div>
    </div>
  </div>

  <!-- Input -->
  <form (submit)="sendMessage()" class="flex gap-2">
    <input
      [(ngModel)]="input"
      name="input"
      type="text"
      placeholder="Escribe un mensaje..."
      class="flex-1 border px-4 py-2 rounded"
    />
    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Enviar
    </button>
  </form>
</div>
